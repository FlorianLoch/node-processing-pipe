# Language setting
language: node_js

# Version number
node_js:
  - 0.12

build_image: shippableimages/ubuntu1204_nodejs

env:
  - secure: g3Oh/+cOI/lqrCe/3ZjZL0PAPv3n8BeNjqDV5uwKnvfK93sOwSiVmTwLrLNrLGszcj9EDLrG4jdTq1i3hJWToOwc1MXxAnU5m3K/HHugBvG3dOjUTG2u9AwR+LnA5PjH+ggwsldcHdNvE+55eAZ4zgC5VSqApBxs+Io1aeAQGIq0hW4ubghwYrqqD8vMSy+Sj8/HCIQAIcbsu6QKp1CrMwjbQrKOn5w5Z5KHRiMLPDAFGiAxKsXynqhRBaAJ8DFg7S/4ksRrBF4nhmbnT5l/NG10dWF+m8iaYzfWFDvmlzhT7G2M6BC93rJFFuBy4QjwdE21hfQdEYIYyJ6efvyFiQ==

before_script:
  - npm install -g mocha
  - npm install -g istanbul
  - npm install -g codeclimate-test-reporter
  - npm install

script:
  - npm test

# Tell istanbul to generate a coverage report
after_script:
  - istanbul report cobertura -- dir shippable/codecoverage/
  - codeclimate < ./coverage/lcov.info
